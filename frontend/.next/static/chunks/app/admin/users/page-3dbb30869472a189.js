(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{6537:function(e,t,s){Promise.resolve().then(s.bind(s,3058))},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3058:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7437),i=s(2265),r=s(9376);function n(){let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)(!0),[d,l]=(0,i.useState)(1),[c,x]=(0,i.useState)(1),m=(0,r.useRouter)();(0,i.useEffect)(()=>{o()},[d]);let o=async()=>{try{let e=await fetch("".concat("http://localhost:8000","/api/v1/admin/users?page=").concat(d,"&limit=20"),{headers:{"x-admin-user-id":"admin-001"}}),s=await e.json();t(s.users),x(s.pagination.totalPages)}catch(e){console.error("Failed to fetch users:",e)}finally{n(!1)}},u=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"deactivated":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},h=e=>{switch(e){case"super_admin":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";case"support":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>m.push("/admin"),className:"text-sm text-gray-600 hover:text-gray-900 mb-2",children:"â† Back to Dashboard"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"})]})})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Loading users..."})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(h(e.role_name)),children:e.role_name})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(u(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.last_activity?new Date(e.last_activity).toLocaleString():"Never"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>m.push("/admin/users/".concat(e.user_id)),className:"text-indigo-600 hover:text-indigo-900",children:"View Details"})})]},e.id))})]}),c>1&&(0,a.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===d,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>l(e=>Math.min(c,e+1)),disabled:d===c,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Page ",(0,a.jsx)("span",{className:"font-medium",children:d})," of ",(0,a.jsx)("span",{className:"font-medium",children:c})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,a.jsx)("button",{onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===d,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>l(e=>Math.min(c,e+1)),disabled:d===c,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6537)}),_N_E=e.O()}]);