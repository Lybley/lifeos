(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{3447:function(e,t,s){Promise.resolve().then(s.bind(s,6130))},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6130:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7437),r=s(2265),i=s(9376);function n(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,l]=(0,r.useState)(7),d=(0,i.useRouter)();(0,r.useEffect)(()=>{x()},[c]);let x=async()=>{try{let e=await fetch("".concat("http://localhost:8000","/api/v1/admin/metrics/system?days=").concat(c),{headers:{"x-admin-user-id":"admin-001"}}),s=await e.json();t(s.metrics)}catch(e){console.error("Failed to fetch metrics:",e)}finally{n(!1)}},m=e=>{switch(e){case"counter":return"bg-blue-100 text-blue-800";case"gauge":return"bg-green-100 text-green-800";case"histogram":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsx)("button",{onClick:()=>d.push("/admin"),className:"text-sm text-gray-600 hover:text-gray-900 mb-2",children:"â† Back to Dashboard"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Metrics"})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Time Range:"}),(0,a.jsxs)("select",{value:c,onChange:e=>l(parseInt(e.target.value)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90",children:"Last 90 days"})]})]})}),s?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Loading metrics..."})}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.length>0?(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Metric Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.metric_name}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(m(e.metric_type)),children:e.metric_type})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.value.toFixed(2)}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.period}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.period_start).toLocaleString()})]},e.id))})]}):(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No metrics data available"})})})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3447)}),_N_E=e.O()}]);