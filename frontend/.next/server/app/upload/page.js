(()=>{var e={};e.id=676,e.ids=[676],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79840:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(64929),s(71513),s(35866);var t=s(23191),a=s(88716),l=s(37922),i=s.n(l),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let o=["",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,64929)),"/app/frontend/src/app/upload/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71513)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/src/app/upload/page.tsx"],m="/upload/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/upload/page",pathname:"/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},74372:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},1217:(e,r,s)=>{Promise.resolve().then(s.bind(s,35659))},75812:(e,r,s)=>{Promise.resolve().then(s.bind(s,35166))},62881:(e,r,s)=>{"use strict";s.d(r,{Z:()=>m});var t=s(17577);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),i=e=>{let r=l(e);return r.charAt(0).toUpperCase()+r.slice(1)},n=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim(),d=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...m},x)=>(0,t.createElement)("svg",{ref:x,...o,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:n("lucide",l),...!i&&!d(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(i)?i:[i]])),m=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...l},d)=>(0,t.createElement)(c,{ref:d,iconNode:r,className:n(`lucide-${a(i(e))}`,`lucide-${e}`,s),...l}));return s.displayName=i(e),s}},30361:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},36283:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},77506:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},63685:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},94019:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35166:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var t=s(10326),a=s(17577),l=s(63685),i=s(62881);let n=(0,i.Z)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);var d=s(94019),o=s(99837);let c=({onUpload:e,accept:r="*",maxSize:s=10,maxFiles:i=5,loading:c=!1})=>{let[m,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)([]),[u,g]=(0,a.useState)(""),f=e=>{let r=[],t="";for(let a of e){if(a.size>1048576*s){t=`File ${a.name} exceeds ${s}MB limit`;continue}r.push(a)}return r.length+p.length>i?(t=`Maximum ${i} files allowed`,{valid:r.slice(0,i-p.length),error:t}):{valid:r,error:t}},y=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?x(!0):"dragleave"===e.type&&x(!1)},[]),v=(0,a.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),x(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0){let{valid:r,error:s}=f(Array.from(e.dataTransfer.files));s&&g(s),r.length>0&&(h([...p,...r]),g(""))}},[p]),j=e=>{h(p.filter((r,s)=>s!==e)),g("")},b=e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,r)*100)/100+" "+["Bytes","KB","MB","GB"][r]};return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:v,children:[t.jsx("input",{type:"file",multiple:!0,accept:r,onChange:e=>{if(e.target.files&&e.target.files.length>0){let{valid:r,error:s}=f(Array.from(e.target.files));s&&g(s),r.length>0&&(h([...p,...r]),g(""))}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:c}),(0,t.jsxs)("div",{className:"pointer-events-none",children:[t.jsx(l.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[t.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-500",children:["Maximum ",s,"MB per file, up to ",i," files"]})]})]}),u&&t.jsx("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:u}),p.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[p.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx(n,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:b(e.size)})]})]}),t.jsx("button",{onClick:()=>j(r),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",disabled:c,children:t.jsx(d.Z,{className:"w-4 h-4 text-gray-500"})})]},r)),(0,t.jsxs)(o.z,{onClick:()=>{p.length>0&&e(p)},loading:c,className:"w-full mt-4",disabled:0===p.length,children:["Upload ",p.length," file",p.length>1?"s":""]})]})]})};var m=s(30361),x=s(69669),p=s(77506),h=s(47375);let u=({items:e,onRetry:r,onCancel:s})=>0===e.length?null:(0,t.jsxs)(h.Zb,{padding:"sm",className:"mt-4",children:[t.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Upload Progress"}),t.jsx("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:["completed"===e.status&&t.jsx(m.Z,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),"error"===e.status&&t.jsx(x.Z,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),("uploading"===e.status||"processing"===e.status)&&t.jsx(p.Z,{className:"w-4 h-4 text-primary-600 animate-spin flex-shrink-0"}),t.jsx("span",{className:"text-sm truncate",children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["error"===e.status&&r&&t.jsx("button",{onClick:()=>r(e.id),className:"text-xs text-primary-600 hover:underline",children:"Retry"}),("uploading"===e.status||"pending"===e.status)&&s&&t.jsx("button",{onClick:()=>s(e.id),className:"text-xs text-gray-600 hover:underline",children:"Cancel"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.progress,"%"]})]})]}),t.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all duration-300 ${"error"===e.status?"bg-red-600":"completed"===e.status?"bg-green-600":"bg-primary-600"}`,style:{width:`${e.progress}%`}})}),e.error&&t.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:e.error})]},e.id))})]});var g=s(36283);let f=(0,i.Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function y(){let[e,r]=(0,a.useState)([]),s=async e=>{let s=e.map(e=>({id:`${Date.now()}-${e.name}`,name:e.name,size:e.size,status:"uploading",progress:0}));for(let e of(r(e=>[...e,...s]),s))for(let s=0;s<=100;s+=10)await new Promise(e=>setTimeout(e,200)),r(r=>r.map(r=>r.id===e.id?{...r,progress:s,status:100===s?"completed":"uploading"}:r))};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Upload Files"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Upload documents, emails, or other files to enrich your memory graph."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:t.jsx(h.ll,{children:"Upload Zone"})}),t.jsx(h.aY,{children:t.jsx(c,{onUpload:s,maxSize:50,maxFiles:10})})]}),t.jsx(u,{items:e,onRetry:e=>{r(r=>r.map(r=>r.id===e?{...r,status:"uploading",progress:0,error:void 0}:r))},onCancel:e=>{r(r=>r.filter(r=>r.id!==e))}})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:t.jsx(h.ll,{children:"Supported Files"})}),t.jsx(h.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(g.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:"Documents"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, TXT, MD"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(f,{className:"w-5 h-5 text-green-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:"Images"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, SVG"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(n,{className:"w-5 h-5 text-purple-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:"Other"}),t.jsx("p",{className:"text-xs text-gray-500",children:"CSV, JSON, XLSX"})]})]})]})})]}),(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:t.jsx(h.ll,{children:"Tips"})}),t.jsx(h.aY,{children:(0,t.jsxs)("ul",{className:"text-sm space-y-2 text-gray-600 dark:text-gray-400",children:[t.jsx("li",{children:"• Files are processed automatically"}),t.jsx("li",{children:"• Text content is extracted and indexed"}),t.jsx("li",{children:"• Entities and relationships are discovered"}),t.jsx("li",{children:"• You can search uploaded files in chat"})]})})]})]})]})]})}},35659:(e,r,s)=>{"use strict";s.d(r,{default:()=>l});var t=s(10326);s(17577);var a=s(18206);function l({children:e}){return t.jsx(a.dr,{children:e})}},99837:(e,r,s)=>{"use strict";s.d(r,{z:()=>n});var t=s(10326),a=s(17577),l=s.n(a);let i=(0,s(73836).j)("inline-flex items-center justify-center rounded-lg font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500",secondary:"bg-secondary-200 text-secondary-900 hover:bg-secondary-300 focus-visible:ring-secondary-500",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus-visible:ring-primary-500",ghost:"text-secondary-700 hover:bg-secondary-100 focus-visible:ring-secondary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus-visible:ring-green-500"},size:{sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-11 px-6 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"md"}}),n=l().forwardRef(({className:e,variant:r,size:s,loading:a,leftIcon:l,rightIcon:n,children:d,disabled:o,...c},m)=>(0,t.jsxs)("button",{className:i({variant:r,size:s,className:e}),ref:m,disabled:o||a,...c,children:[a&&(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-label":"Loading",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&l&&t.jsx("span",{className:"mr-2",children:l}),d,!a&&n&&t.jsx("span",{className:"ml-2",children:n})]}));n.displayName="Button"},47375:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var t=s(10326),a=s(17577),l=s.n(a);let i=(0,s(73836).j)("rounded-lg border bg-white transition-shadow",{variants:{variant:{default:"border-gray-200 shadow-sm hover:shadow-md",elevated:"border-gray-200 shadow-md hover:shadow-lg",outlined:"border-2 border-gray-300 shadow-none",ghost:"border-transparent shadow-none"},padding:{none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"}},defaultVariants:{variant:"default",padding:"md"}}),n=l().forwardRef(({className:e,variant:r,padding:s,hoverable:a,...l},n)=>t.jsx("div",{ref:n,className:i({variant:r,padding:s,className:a?`${e} cursor-pointer`:e}),...l}));n.displayName="Card";let d=({className:e,...r})=>t.jsx("div",{className:`mb-4 ${e||""}`,...r}),o=({className:e,...r})=>t.jsx("h3",{className:`text-xl font-semibold text-gray-900 ${e||""}`,...r}),c=({className:e,...r})=>t.jsx("div",{className:e,...r})},71513:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,metadata:()=>n});var t=s(19510),a=s(45317),l=s.n(a);s(5023);let i=(0,s(68570).createProxy)(String.raw`/app/frontend/src/components/auth/AuthProvider.tsx#default`),n={title:"LifeOS - Personal Memory Graph",description:"Your AI-powered personal memory graph"};function d({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:l().className,children:t.jsx(i,{children:e})})})}},64929:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/app/frontend/src/app/upload/page.tsx#default`)},5023:()=>{},73836:(e,r,s)=>{"use strict";s.d(r,{j:()=>l});let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=function(){for(var e,r,s=0,t="",a=arguments.length;s<a;s++)(e=arguments[s])&&(r=function e(r){var s,t,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(t=e(r[s]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t)}return a}(e))&&(t&&(t+=" "),t+=r);return t},l=(e,r)=>s=>{var l;if((null==r?void 0:r.variants)==null)return a(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:n}=r,d=Object.keys(i).map(e=>{let r=null==s?void 0:s[e],a=null==n?void 0:n[e];if(null===r)return null;let l=t(r)||t(a);return i[e][l]}),o=s&&Object.entries(s).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return a(e,d,null==r?void 0:null===(l=r.compoundVariants)||void 0===l?void 0:l.reduce((e,r)=>{let{class:s,className:t,...a}=r;return Object.entries(a).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...n,...o}[r]):({...n,...o})[r]===s})?[...e,s,t]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,218],()=>s(79840));module.exports=t})();